<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magnetic Field Lines — Interactive Experiment</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="container">
        <div id="scene"></div>
    </div>

    <div class="logo">
        <img src="../../../images/logo-dark.png" alt="STEM Lab">
    </div>

    <div class="ui" id="controls">
        <h3>Magnetic Field Lines</h3>

        <div class="info">
            <strong>Objective</strong>
            <div class="small" style="margin-top:6px">
                Map the magnetic field pattern around a bar magnet using a compass.
            </div>
        </div>

        <div class="section-title">Procedure</div>
        <div class="instructions">
            <div class="instruction-step">1. Place a bar magnet on a flat surface</div>
            <div class="instruction-step">2. Use a small compass to trace field lines</div>
            <div class="instruction-step">3. Note the direction from North (N) to South (S) pole</div>
            <div class="instruction-step">4. Observe the curved lines running from N to S pole</div>
        </div>

        <div class="section-title">Camera View</div>
        <div class="button-group">
            <button id="resetView">Reset to Top View</button>
        </div>

        <div class="section-title">Magnet Position</div>
        <div class="row">
            <label>Position X</label>
            <input id="magnetX" type="range" min="-2" max="2" step="0.1" value="0" />
            <div class="small" id="magnetXVal">0.0</div>
        </div>
        <div class="row">
            <label>Position Z</label>
            <input id="magnetZ" type="range" min="-2" max="2" step="0.1" value="0" />
            <div class="small" id="magnetZVal">0.0</div>
        </div>
        <div class="row">
            <label>Rotation</label>
            <input id="magnetRot" type="range" min="0" max="360" step="15" value="0" />
            <div class="small" id="magnetRotVal">0°</div>
        </div>

        <div class="section-title">Visualization</div>
        <div class="row">
            <label>View Mode</label>
            <select id="vizMode">
                <option value="compass">Compass Needles</option>
                <option value="ironFilings">Iron Filings</option>
            </select>
        </div>

        <div class="button-group">
            <button id="showField">Show Field</button>
            <button id="clearField" class="secondary">Clear</button>
        </div>

        <div class="info" style="margin-top: 12px;">
            <strong>Expected Outcome</strong>
            <div class="small" style="margin-top:6px">
                The compass needles reveal curved lines running from North to South pole, showing the magnetic field is strongest at the poles.
            </div>
        </div>
    </div>

    <div class="footer">
        Magnetic field flows from North (N) to South (S) pole
    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.161.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.161.0/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="script.js"></script>
</body>
</html>
